<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title></title>
  <link rel="stylesheet" href="./style.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prefixfree/1.0.7/prefixfree.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
    integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
    crossorigin="anonymous"></script>
  <script src="https://kit.fontawesome.com/c4b7d7f020.js" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
    integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
    crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/bodymovin/5.7.4/lottie.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/bodymovin/5.7.3/lottie.min.js"></script>
  <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
  <link rel="stylesheet" href="https://use.typekit.net/gnc2otm.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.3.1/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.4.1/html2canvas.min.js"></script>



</head>

<body>
  <div class="bgcontenedor1" id="bgcontenedor1">
    <!-- Página 1 -->
    <div id="page1" class="pagina">
      <h1 class="titulo">En general, ¿cómo evalúas a Nayeli Ucha como directora?</h1>
      <div class="stars" data-page="1">
        <span class="star">&#9734;</span>
        <span class="star">&#9734;</span>
        <span class="star">&#9734;</span>
        <span class="star">&#9734;</span>
        <span class="star">&#9734;</span>
      </div>
      <p class="letras_blancas"><i>Haz clic en las estrellas para determinar tu evaluación.</i></p><br><br>
      <div class="explicacion" id="explicacion"><i class="fa-regular fa-pen-to-square fa"></i>&nbsp;&nbsp;&nbsp;¿Por qué le otorgaste esa
        valoración?</div>
      <textarea id="comment1" placeholder="Escribe tu respuesta aquí…" class="responder"></textarea>
      <div class="siguiente" id="siguiente" onclick="goToPageIntermediate('intermediate1', 'item1')">></div>
    </div>

    <!-- Página intermedia 1 -->
    <div id="intermediate1" class="pagina hidden">
      <h1 class="titulo">¿Cómo evalúas a Nayeli Ucha como directora?</h1>
      <p style="color: white; font-size: 18px;">Evalúa el trabajo de Nayeli como directora con base en los siguientes
        criterios:</p><br><br>
      <div class="conte_imagenes" id="item1">
        <div class="item" id="item1" onclick="goToPage('page2', 'siguiente2', 'explicacion1', 'subtitulo1')">
          <img src="images/img_01_sm.png" alt="Imagen 1">
          <p class="texto_imagen">Rentabilidad</p>
        </div>
        <div class="item_sm" id="item1">
          <img src="images/img_02_sm.png" alt="Imagen 2">
          <p class="texto_imagen">Competitividad</p>
        </div>
        <div class="item_sm" id="item1">
          <img src="images/img_03_sm.png" alt="Imagen 3">
          <p class="texto_imagen">Permanencia</p>
        </div>
      </div>
      <p style="color: white; font-size: 18px; text-align: center; width: 88%"><i>Haz clic sobre cada criterio para
          brindar tu valoración.
          Una vez que hayas terminado, continúa revisando el recurso interactivo.</i></p>
    </div>

    <!-- Página 2 -->
    <div id="page2" class="pagina hidden">
      <div class="subtitulo" id="subtitulo1">Rentabilidad</div>
      <h1 class="titulo">¿Qué tan buena es Nayeli creando riqueza a través de rentabilidad para la empresa?</h1>
      <div class="stars" data-page="2">
        <span class="star">&#9734;</span>
        <span class="star">&#9734;</span>
        <span class="star">&#9734;</span>
        <span class="star">&#9734;</span>
        <span class="star">&#9734;</span>
      </div>
      <p class="letras_blancas"><i>Haz clic en las estrellas para determinar tu evaluación.</i></p><br><br>
      <div class="explicacion" id="explicacion1"><i class="fa-regular fa-pen-to-square fa"></i>&nbsp;&nbsp;&nbsp;¿Por qué le otorgaste esa
        valoración?</div>
      <textarea id="comment2" placeholder="Escribe tu respuesta aquí…" class="responder"></textarea>
      <div class="siguiente" id="siguiente2" onclick="goToPageIntermediate('intermediate2', 'item2')">></div>
    </div>

    <!-- Página intermedia 2 -->
    <div id="intermediate2" class="pagina hidden">
      <h1 class="titulo">¿Cómo evalúas a Nayeli Ucha como directora?</h1>
      <p style="color: white; font-size: 18px;">Evalúa el trabajo de Nayeli como directora con base en los siguientes
        criterios:</p><br><br>
      <div class="conte_imagenes" id="item2">
        <div class="item_select" id="item2">
          <img src="images/img_01_select.png" alt="Imagen 1">
          <p class="texto_imagen">Rentabilidad</p>
        </div>
        <div class="item" id="item2" onclick="goToPage('page3', 'siguiente3', 'explicacion2', 'subtitulo2')">
          <img src="images/img_02_sm.png" alt="Imagen 2">
          <p class="texto_imagen">Competitividad</p>
        </div>
        <div class="item_sm" id="item2">
          <img src="images/img_03_sm.png" alt="Imagen 3">
          <p class="texto_imagen">Permanencia</p>
        </div>
      </div>
      <p style="color: white; font-size: 18px; text-align: center; width: 88%"><i>Haz clic sobre cada criterio para
          brindar tu valoración.
          Una vez que hayas terminado, continúa revisando el recurso interactivo.</i></p>
    </div>

    <!-- Página 3 -->
    <div id="page3" class="pagina hidden">
      <div class="subtitulo" id="subtitulo2">Competitividad</div>
      <h1 class="titulo">¿Qué tan buena es Nayeli generando diferenciadores para la empresa?</h1>
      <div class="stars" data-page="3">
        <span class="star">&#9734;</span>
        <span class="star">&#9734;</span>
        <span class="star">&#9734;</span>
        <span class="star">&#9734;</span>
        <span class="star">&#9734;</span>
      </div>
      <p class="letras_blancas"><i>Haz clic en las estrellas para determinar tu evaluación.</i></p><br><br>
      <div class="explicacion" id="explicacion2"><i class="fa-regular fa-pen-to-square fa"></i>&nbsp;&nbsp;&nbsp;¿Por qué le otorgaste esa
        valoración?</div>
      <textarea id="comment3" placeholder="Escribe tu respuesta aquí…" class="responder"></textarea>
      <div class="siguiente" id="siguiente3" onclick="goToPageIntermediate('intermediate3', 'item3')">></div>
    </div>

    <!-- Página intermedia 3 -->
    <div id="intermediate3" class="pagina hidden">
      <h1 class="titulo">¿Cómo evalúas a Nayeli Ucha como directora?</h1>
      <p style="color: white; font-size: 18px;">Evalúa el trabajo de Nayeli como directora con base en los siguientes
        criterios:</p><br><br>
      <div class="conte_imagenes" id="item3">
        <div class="item_select" id="item3">
          <img src="images/img_01_select.png" alt="Imagen 1">
          <p class="texto_imagen">Rentabilidad</p>  
        </div>
        <div class="item_select" id="item3">
          <img src="images/img_02_select.png" alt="Imagen 2">
          <p class="texto_imagen">Competitividad</p>
        </div>
        <div class="item"  id="item3" onclick="goToPage('page4', 'siguiente4', 'explicacion3', 'subtitulo3')">
          <img src="images/img_03_sm.png" alt="Imagen 3">
          <p class="texto_imagen">Permanencia</p>
        </div>
      </div>
      <p style="color: white; font-size: 18px; text-align: center; width: 88%"><i>Haz clic sobre cada criterio para
          brindar tu valoración.
          Una vez que hayas terminado, continúa revisando el recurso interactivo.</i></p>
    </div>

    <!-- Página 4 -->
    <div id="page4" class="pagina hidden">
      <div class="subtitulo" id="subtitulo3">Permanencia</div>
      <h1 class="titulo">¿Qué tan buena es Nayeli buscando innovar en su empresa?</h1>
      <div class="stars" data-page="4">
        <span class="star">&#9734;</span>
        <span class="star">&#9734;</span>
        <span class="star">&#9734;</span>
        <span class="star">&#9734;</span>
        <span class="star">&#9734;</span>
      </div>
      <p class="letras_blancas"><i>Haz clic en las estrellas para determinar tu evaluación.</i></p><br><br>
      <div class="explicacion" id="explicacion3"><i class="fa-regular fa-pen-to-square fa"></i>&nbsp;&nbsp;&nbsp;¿Por qué le otorgaste esa
        valoración?</div>
      <textarea id="comment4" placeholder="Escribe tu respuesta aquí…" class="responder"></textarea>
      <div class="siguiente" id="siguiente4" onclick="goToPageIntermediate('intermediate4', 'item4')">></div>
    </div>


       <!-- Página intermedia 4 -->
       <div id="intermediate4" class="pagina hidden">
        <h1 class="titulo">¿Cómo evalúas a Nayeli Ucha como directora?</h1>
        <p style="color: white; font-size: 18px;">Evalúa el trabajo de Nayeli como directora con base en los siguientes
          criterios:</p><br><br>
        <div class="conte_imagenes" id="item4">
          <div class="item_select" id="item4">
            <img src="images/img_01_select.png" alt="Imagen 1">
            <p class="texto_imagen">Rentabilidad</p>  
          </div>
          <div class="item_select" id="item4">
            <img src="images/img_02_select.png" alt="Imagen 2">
            <p class="texto_imagen">Competitividad</p>
          </div>
          <div class="item_select"  id="item4" >
            <img src="images/img_03_select.png" alt="Imagen 3">
            <p class="texto_imagen">Permanencia</p>
          </div>
          <button class="siguientebtn" id="siguiente4" style="position: absolute; top: 339px; left: 50;;" onclick="goToPageResults()">></button>
        </div>
       
        <p style="color: white; font-size: 18px; text-align: center; width: 88%"><i>Haz clic sobre cada criterio para
            brindar tu valoración.
            Una vez que hayas terminado, continúa revisando el recurso interactivo.</i></p>
      </div>

    <!-- Página de Resultados -->
    <div id="results" class="pagina hidden">
      <h1 class="titulo">¿Cómo evalúas a Nayeli Ucha como directora?</h1>
      <h1>Resultados</h1><br>
      <div id="resultList"></div>
      <p class="instruccion"><i>Presiona el botón “Descarga tus respuestas”.</i></p>
      <button class="descargar" id="finalBtn">Descargar resultados</button>
    </div>

    <!-- Página Final -->
    <div id="final" class="pagina hidden">
      <h1>Gracias por tu feedback</h1>
      <p>Has completado todas las puntuaciones.</p>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script>
      const ratings = [];

      function goToPage(pageId,sigid,explicacionid,subtituloid) {
        document.querySelectorAll('div').forEach(div => {
          div.classList.add('hidden');
        });
        document.getElementById('bgcontenedor1').classList.remove('hidden');
        document.getElementById(pageId).classList.remove('hidden');
        document.getElementById(explicacionid).classList.remove('hidden');
        document.getElementById(sigid).classList.remove('hidden');
        document.getElementById(subtituloid).classList.remove('hidden');
        
      }

      function goToPage2(pageId) {
        document.querySelectorAll('div').forEach(div => {
          div.classList.add('hidden');
        });
        document.getElementById('bgcontenedor1').classList.remove('hidden');
        document.getElementById('explicacion').classList.remove('hidden');
        document.getElementById(pageId).classList.remove('hidden');
      }

      function goToPageIntermediate(pageId, itemid) {
        document.querySelectorAll('div').forEach(div => {
          div.classList.add('hidden');
        });
        document.getElementById('bgcontenedor1').classList.remove('hidden');
        document.getElementById(pageId).classList.remove('hidden');
        document.querySelectorAll(`#${itemid}`).forEach(item => {
          item.classList.remove('hidden');
        });
      }

      document.querySelectorAll('.stars').forEach(starsDiv => {
        const page = starsDiv.getAttribute('data-page');
        starsDiv.addEventListener('click', function (event) {
          if (event.target.classList.contains('star')) {
            const stars = Array.from(starsDiv.children);
            const rating = stars.indexOf(event.target) + 1;
            ratings[page - 1] = {
              rating: rating,
              comment: document.getElementById(`comment${page}`).value
            };
            stars.forEach((star, index) => {
              if (index < rating) {
                star.classList.add('selected');
              } else {
                star.classList.remove('selected');
              }
            });
          }
        });
      });

      const sectionNames = ['General', 'Rentabilidad', 'Competitividad', 'Permanencia'];

function goToPageResults() {
  goToPage2('results');
  const resultList = document.getElementById('resultList');
  resultList.innerHTML = '';
  
  const table = document.createElement('table');
  table.innerHTML = `
    <thead>
      <tr>
        <th>Sección</th>
        <th>Rating</th>
        <th>Comentario</th>
      </tr>
    </thead>
    <tbody>
    </tbody>
  `;
  
  const tbody = table.querySelector('tbody');

  ratings.forEach((result, index) => {
    const tr = document.createElement('tr');
    
    // Crear la representación de las estrellas
    const rating = Array(result.rating).fill('&#9733;').join('') + Array(5 - result.rating).fill('&#9734;').join('');
    
    // Obtener el comentario del área de texto
    const comment = document.getElementById(`comment${index + 1}`).value; 
    
    tr.innerHTML = `
      <td>${sectionNames[index]}</td>
      <td>${rating}</td>
      <td>${comment}</td>
    `;
    
    tbody.appendChild(tr);
  });

  resultList.appendChild(table);
  resultList.classList.remove('hidden');
}


window.onload = function () {
      document.getElementById('finalBtn').addEventListener('click', () => {
        const { jsPDF } = window.jspdf;
        const doc = new jsPDF('p', 'pt', 'a4'); // Crea un documento PDF tamaño A4

        html2canvas(document.getElementById('bgcontenedor1'), {
          scale: 1, // Escala el contenido a 1
          windowWidth: document.getElementById('bgcontenedor1').scrollWidth,
          windowHeight: document.getElementById('bgcontenedor1').scrollHeight,
        }).then(canvas => {
          const imgData = canvas.toDataURL('image/png', 1.0); // Convierte el canvas a una imagen PNG
          const imgWidth = doc.internal.pageSize.getWidth();
          const imgHeight = (canvas.height * imgWidth) / canvas.width;

          doc.addImage(imgData, 'PNG', 0, 0, imgWidth, imgHeight);
          doc.save('Resultados_01.pdf'); // Descarga el archivo PDF
          window.location.href = 'contenido3.html';
        });
      });
    };
    </script>

<script>
  function redirigir() {
           window.location.href = "contenido3.html";
       }
 </script>

    <script src='//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
    <script src='https://code.jquery.com/jquery-2.2.4.min.js'></script>


</body>

</html>